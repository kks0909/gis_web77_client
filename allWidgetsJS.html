<!DOCTYPE html>
<html>
<head>
    <title></title>

    <!-- тег нужен, чтобы указать браузеру IE в каком режиме просматривать документы. Если IE использует режим документов для IE-5, сайт будет отображаться некорректно -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- локальный вариант сборки-->
    <script src="./ui/build/js/lang-min-7.7.7.5.js"></script>
    <script src="./ui/lib/modernizr-2.6.2.min.js"></script>
    <script src="./ui/lib/jquery-1.9.1.js"></script>
    <script src="./ui/lib/jquery.xdomainrequest.min.js"></script>
    <script src="./ui/lib/turf.min.js"></script>
    <!-- скрипт для определения совместимости сайта с текущим браузером -->
    <script src="./ui/build/js/browserCompatibility-min-7.7.7.5.js"></script>
    <script src="./ui/build/js/core-min-7.7.7.5.js"></script>
    <!-- ECMAScript 5 compatibility shims for legacy JavaScript engines -->
    <script src="./ui/lib/es5-shim.min.js"></script>
    <script src="./ui/lib/json2.js" type="text/javascript"></script>
    <!--<script src="./ui/lib/proj4.js" type="text/javascript"></script>-->
    <script src="./ui/lib/proj4-src.js"></script>
    <!-- библиотека для галереи прикрепленных документов -->
    <link href="./ui/lib/flickity/flickity.min.css" rel="stylesheet">
    <script src="./ui/lib/flickity/flickity.pkgd.min.js"></script>
    <link href="./ui/lib/flickity/fullscreen.css" rel="stylesheet">
    <script src="./ui/lib/flickity/fullscreen.js"></script>
    <!-- библиотека для чартов -->
    <script src="./ui/lib/chart/Chart.bundle.min.js"></script>
    <script src="./ui/lib/chart/chartjs-plugin-labels.min.js"></script>

    <script src="./ui/lib/jquery-ui-1.10.3/ui/jquery-ui.js"></script>
    <script src="./ui/lib/jquery-ui-1.10.3/ui/i18n/jquery.ui.datepicker-ru.js" type="text/javascript"></script>
    <link href="./ui/lib/jquery-ui-1.10.3/themes/base/jquery-ui.css" rel="stylesheet">
    <script src="./ui/lib/jquery.cookie.js"></script>
    <script src="./ui/lib/jquery.ba-outside-events.min.js"></script>
    <script src="./ui/lib/md5.js"></script>
    <!-- Скрипт для расширенного использования диалогов JQuery с фиксом перезагрузки iframe -->
    <script src="./ui/lib/jquery.dialogextend.js"></script>


    <script type="text/javascript" src="./jqwidgets/jqxcore.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxdata.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxbuttons.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxradiobutton.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxcheckbox.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxscrollbar.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxpanel.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxgsitreepanel.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxdockpanel.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxslider.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxmenu.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxinput.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxgrid.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxgrid.selection.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxgrid.pager.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxlistbox.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxdropdownlist.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxgsibaselayerslist.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxexpander.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxdragdrop.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxgrid.columnsresize.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxgrid.selection.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxgrid.edit.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxgrid.sort.js"></script>
    <script type="text/javascript" src="./jqwidgets/generatedata.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxcombobox.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxnumberinput.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxdatatable.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxtreegrid.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxmaskedinput.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxcolorpicker.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxdropdownbutton.js"></script>
    <!-- Локализация (для грида) -->
    <script type="text/javascript" src="./jqwidgets/globalization/globalize.js"></script>
    <script type="text/javascript" src="./jqwidgets/globalization/globalize.culture.ru-RU.js"></script>
    <script type="text/javascript" src="./jqwidgets/localization.js"></script>
    <!-- Скрипт для работы перетаскиваемых разделителей в панели с модулями -->
    <script type="text/javascript" src="./jqwidgets/jqxsplitter.js"></script>
    <!-- Скрипт для работы навигатора со вкладками (для вкладок с гридами) -->
    <script type="text/javascript" src="./jqwidgets/jqxtabs.js"></script>
    <!-- Скрипт для работы навигатора со вкладками (для вкладок с гридами) -->
    <script type="text/javascript" src="./jqwidgets/jqxtooltip.js"></script>
    <!-- Скрипт для работы панели свойств - для отображения панели -->
    <script type="text/javascript" src="./jqwidgets/jqxwindow.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxgsivideowindow.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxtree.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxgsirubrtree.js"></script>


    <script type="text/javascript" src="./jqwidgets/jqxvalidator.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxdatetimeinput.js"></script>
    <script type="text/javascript" src="./jqwidgets/jqxcalendar.js"></script>

    <!-- наследие старой версии -->
    <link rel="stylesheet" type="text/css" href="Public/Modules/history/history.css"/>
    <script src="./ui/build/js/AC_OETags_55-min-7.7.7.5.js" language="javascript"></script>
    <script src="Public/Modules/history/history.js" language="javascript"></script>

    <!--[if lt IE 8]><![endif]-->
    <link href="./ui/build/css/normalize.css" rel="stylesheet">
    <link href="./ui/build/css/core-styles-7.7.7.5.css" rel="stylesheet">
    <link href="./ui/build/css/ol.css" rel="stylesheet">

    <!-- Скрипты, необходимые для работы на странице грида -->
    <link rel="stylesheet" href="./jqwidgets/styles/jqx.base.css" type="text/css"/>
    <link rel="stylesheet" href="./jqwidgets/styles/jqx.gis-blueorange.css" type="text/css"/>
    <link href="./ui/build/css/map-styles-7.7.7.5.css" rel="stylesheet">

    <!--  Такой импорт избавляет от загрузки сотен файлов библиотеки. Дебажить придется в неминизированным ol-debug.js  -->
    <!-- TODO  перейти на ./ol/build/ol.js при этом нужны правки в наследуемых кастом кнопках и т.п.(убирать goog.require и прочее)-->
    <script src="./ol/build/ol-debug.js"></script>
    <script src="./ol/build/ol-deps.js"></script>

    <script src="./ui/build/js/map-min-7.7.7.5.js"></script>

    <script type="text/javascript">
		$(document).ready(function () {
			if (window.location.href.indexOf('task=') == -1)
				window.location.href = window.location.href + '?task=MAIN_WIDGET&mdl=main_js.html&w=1#login=user&UID=8e58d2f3-17d8-4690-915d-f2eb5a4a9b8f&chk=5b28b8b11a79dd68dd32a8e95f7b1469&ID=1';
		});

		function openMAIN() {
			window.location.href = '/allWidgetsJS.html?task=MAIN_WIDGET&mdl=main_js.html&w=1#login=user&UID=8e58d2f3-17d8-4690-915d-f2eb5a4a9b8f&chk=5b28b8b11a79dd68dd32a8e95f7b1469&ID=1';
		}
		function openILI() {
			window.location.href = '/allWidgetsJS.html?task=ILI_WIDGET&mdl=main_js.html&w=1#login=user&UID=8e58d2f3-17d8-4690-915d-f2eb5a4a9b8f&chk=5b28b8b11a79dd68dd32a8e95f7b1469&ID=1';
		}
		function openCAS() {
			window.location.href = '/allWidgetsJS_CAS.html?task=CAS_JS&mdl=cas_js.html&w=1#login=user&UID=8e58d2f3-17d8-4690-915d-f2eb5a4a9b8f&chk=5b28b8b11a79dd68dd32a8e95f7b1469&ID=1';
		}
		function onShowVideo() {
			showVideo(1, video_url.value, video_name.value, undefined);
		}
		function onFind() {
			findExternalObject(sys_id.value, id_infoteh.value);
		}
		function onFindKM() {
			findExternalPipeKm(sys_id.value, id_infoteh.value, sKM.value);
		}
		function onFindPartKM() {
			findExternalPipePart(sys_id.value, id_infoteh.value, sKM.value, poKM.value);
		}

    </script>
</head>


<body scroll="no">
<nav class="menu"></nav>
<div width="50%">
    Идентификатор объекта Инфотех<br/>
    <input id="id_infoteh" type="text" value="17716223985201"/>
    <input id="sys_id" type="text" value="ASMO"/>
    <button title="Найти" onclick="onFind()">Найти findExternalObject</button>
    <br/>
    <input id="sKM" type="text" value="70"/>
    <input id="poKM" type="text" value="110"/>
    <button onclick="onFindKM()">Найти КM findExternalPipeKm</button>
    <button onclick="onFindPartKM()">Найти участок findExternalPipePart</button>
    <br/>
    <button onclick="alert(getMapWidth())">Ширина карты getMapWidth</button>
    <button onclick="alert(getMapCenter())">Центр карты getMapCenter</button>
    <button onclick="alert(getPosition())">Положение карты getPosition</button>
    <br/>
    Имя модели:<input id="clearM" type="text" value="PODS_INSP"/><br/>
    Имя слоя<input id="clearL" type="text" value="PODS_ILI_DATA"/><br/>
    Запрос<input id="refreshRequest" type="text" style="width:600px"
                 value='<data SYSTEM_ID="ASMO" OBJ_ID="35056607044823" TOP_FILTER="ILI_INSP_FILTER"/>'/>
    <br/>
    <button onclick="clearModel(clearM.value)">Очистить модель,карту clearModel,clearMap</button>
    <button onclick="clearLayer(clearL.value)">Очистить слой clearLayer</button>
    <br/>
    <button onclick="refreshLayer(clearL.value,refreshRequest.value)">Обновить слой refreshLayer</button>
    <button onclick="refreshModel(clearM.value,refreshRequest.value)">Обновить модель,карту refreshModel,refreshMap
    </button>
    <br/>
    Параметры для открытия видео:
    <input id="video_url" type="text" value="rtmp://10.9.14.13:1935/vod/vald.mp4"/>
    <input id="video_name" type="text" value="Валдай"/>
    <button onclick="onShowVideo()">Открыть видео showVideo</button>
    <br/>
    <br/>
    <button onclick="openMAIN()">Открыть задачу MAIN_WIDGET</button>
    <button onclick="openILI()">Открыть задачу ILI_WIDGET</button>
    <button onclick="openCAS()">Открыть задачу CAS</button>
    <br/>
</div>
<div class="taskContent" width="50%">
    <!--<div class="content">
        <noscript>
            Ошибка! JavaScript отключен!
        </noscript>
    </div>-->
</div>

<!--<div class="gridContent">
    <noscript>
        Ошибка! JavaScript отключен!
    </noscript>
</div>-->
</body>
</html>
